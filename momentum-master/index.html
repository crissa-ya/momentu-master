<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Momentum Master â€” Simulator</title>
<style>
  body{font-family:Arial,sans-serif;background:#eef2ff;color:#0f172a;display:flex;justify-content:center;padding:20px;}
  .wrap{max-width:800px;width:100%;}
  .card{background:#fff;border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,0.08);}
  .scene-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;}
  .scene-btn{padding:8px 10px;border-radius:10px;border:1px solid #ccc;background:#fff;cursor:pointer;display:flex;gap:6px;align-items:center;}
  .scene-btn.active{background:#0369a1;color:white;border-color:#0369a1;}
  .visual{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;border:1px dashed #ccc;background:#f9faff;margin-bottom:12px;}
  .obj{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px;box-shadow:inset 0 -6px 18px rgba(0,0,0,.02);}
  .obj span{font-size:34px;}
  .momentum-display{display:flex;flex-direction:column;gap:6px;}
  input[type="range"]{width:100%;}
  label{font-size:13px;color:#555;}
</style>
</head>
<body>
<div class="wrap">
  <h1>Momentum Master â€” Simulator</h1>
  <div class="card">
    <!-- Scene selection -->
    <div class="scene-row" id="sceneRow"></div>

    <!-- Visual and momentum -->
    <div class="visual">
      <div style="flex:1">
        <div class="obj" id="objectVisual" style="width:140px;height:70px"><span id="sceneEmoji">ðŸš—</span></div>
        <div style="text-align:center;margin-top:8px" id="sceneLabel">Car on a road</div>
      </div>
      <div style="flex:2">
        <div class="momentum-display">
          <div class="small">Mass</div>
          <div class="value" id="massValue">1200 kg</div>
          <div class="small" style="margin-top:8px">Velocity</div>
          <div class="value" id="velocityValue">10.0 m/s</div>
          <div style="margin-top:12px" class="small">Momentum (p = m Ã— v)</div>
          <div class="momentum-value" id="momentumValue">12000 kgÂ·m/s</div>
        </div>
      </div>
      <div style="flex:1">
        <div class="small">Vector</div>
        <div class="svg-wrap" id="svgWrap" aria-hidden></div>
      </div>
    </div>

    <!-- Controls -->
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div style="flex:1">
        <label>Mass: <span id="massLabel">1200 kg</span></label>
        <input type="range" id="massSlider" min="100" max="5000" step="10" value="1200">
      </div>
      <div style="flex:1">
        <label>Velocity: <span id="velocityLabel">10.0 m/s</span></label>
        <input type="range" id="velSlider" min="0" max="50" step="0.1" value="10">
      </div>
    </div>
  </div>
</div>

<script>
// Scenes
const scenes = [
  { id:'car', name:'Car on a Road', emoji:'ðŸš—', scale:1 },
  { id:'truck', name:'Truck on a Highway', emoji:'ðŸšš', scale:1.6 },
  { id:'ball', name:'Ball Rolling on a Field', emoji:'âš½', scale:0.5 },
  { id:'skate', name:'Skateboarder in a Park', emoji:'ðŸ›¹', scale:0.6 },
  { id:'train', name:'Train on a Track', emoji:'ðŸš†', scale:2.0 }
];

let state = { scene: scenes[0], mass:1200, vel:10 };

// DOM refs
const sceneRow = document.getElementById('sceneRow');
const sceneEmoji = document.getElementById('sceneEmoji');
const sceneLabel = document.getElementById('sceneLabel');
const massSlider = document.getElementById('massSlider');
const velSlider = document.getElementById('velSlider');
const massLabel = document.getElementById('massLabel');
const velocityLabel = document.getElementById('velocityLabel');
const massValue = document.getElementById('massValue');
const velocityValue = document.getElementById('velocityValue');
const momentumValue = document.getElementById('momentumValue');
const svgWrap = document.getElementById('svgWrap');
const objectVisual = document.getElementById('objectVisual');

// Populate scene buttons
scenes.forEach(s=>{
  const b = document.createElement('button');
  b.className='scene-btn';
  b.innerHTML=`<span style="font-size:18px">${s.emoji}</span> <span style="font-size:13px">${s.name}</span>`;
  b.onclick = ()=>{ selectScene(s.id); document.querySelectorAll('.scene-btn').forEach(x=>x.classList.remove('active')); b.classList.add('active'); };
  sceneRow.appendChild(b);
});
document.querySelectorAll('.scene-btn')[0].classList.add('active');

function selectScene(id){
  const s = scenes.find(x=>x.id===id); if(!s) return;
  state.scene = s;
  sceneEmoji.textContent = s.emoji;
  sceneLabel.textContent = s.name;
  updateVisual();
}

function updateVisual(){
  const p = state.mass * state.vel;
  massLabel.textContent = `${state.mass} kg`;
  velocityLabel.textContent = `${state.vel.toFixed(1)} m/s`;
  massValue.textContent = `${state.mass} kg`;
  velocityValue.textContent = `${state.vel.toFixed(1)} m/s`;
  momentumValue.textContent = `${formatNumber(Math.round(p))} kgÂ·m/s`;
  updateArrow(p);
  updateObjectSize();
}

function formatNumber(n){ return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); }

function updateArrow(momentum){
  const maxP = 5000*50;
  const maxPx = 380;
  const minPx = 30;
  const ratio = Math.min(momentum / maxP, 1);
  const len = Math.max(minPx, Math.round(ratio * maxPx));
  const width = Math.max(420, len+80);
  svgWrap.innerHTML = `
  <svg viewBox="0 0 ${width} 120" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
    <line x1="10" y1="60" x2="${width-10}" y2="60" stroke="#ccc" stroke-width="2"/>
    <g transform="translate(40,60)">
      <line x1="0" y1="0" x2="${len}" y2="0" stroke="#0369a1" stroke-width="8" stroke-linecap="round" />
      <polygon points="${len},0 ${len-16},-9 ${len-16},9" fill="#0369a1" />
    </g>
  </svg>`;
}

function updateObjectSize(){
  const base=120, scale=state.scene.scale;
  const size=Math.min(220, Math.max(40, Math.round(scale*(state.mass/5000)*base+40)));
  objectVisual.style.width = size+'px';
  objectVisual.style.height = Math.round(size*0.56)+'px';
  objectVisual.querySelector('span').style.fontSize = Math.round(size/3)+'px';
}

// Slider events
massSlider.addEventListener('input', e=>{ state.mass=Number(e.target.value); updateVisual(); });
velSlider.addEventListener('input', e=>{ state.vel=Number(e.target.value); updateVisual(); });

// Initialize
updateVisual();
</script>
</body>
</html>
